<div  class="grid-container" layout="row">
  <mat-grid-list cols="10" rowHeight="450px">
    <mat-grid-tile *ngFor="let card of cardlistfriend | async" [colspan]="card.cols" [rowspan]="card.rows" >
      <mat-card class="dashboard-card-left">
        <mat-card-header>
          <mat-card-title>
                <button mat-raised-button (click)="openDialog()">Tạo Nhóm Chat</button>

             <mat-form-field class="input-search">
               <input type="text" matInput placeholder="Tìm bạn bè " >
               <button mat-stroked-button color="primary" class="button-search" type="submit">Gửi</button>
             </mat-form-field>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
          <div>
            <cdk-virtual-scroll-viewport itemSize="50" class="viewport-contacts">
              <mat-selection-list #listMessages [multiple]="false" *cdkVirtualFor="let list of lists" (click)="onSelected(list)"  >
                <div *ngIf="list.id !=0" class="messages-left">
                  <mat-card-header >
                    <div mat-card-avatar class="example-header-image"><mat-icon mat-list-icon>account_circle</mat-icon></div>
                    <button mat-raised-button class="button-name-user" >{{list.name}}</button>
                  </mat-card-header>
                </div>
              </mat-selection-list>
            </cdk-virtual-scroll-viewport>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile *ngFor="let card of cardsmessages | async" [colspan]="card.cols" [rowspan]="card.rows" >
      <mat-card class="dashboard-card">      
          <mat-card-title>
              <mat-icon mat-list-icon>account_circle</mat-icon>
              <mat-label *ngIf="selecttedUser">{{"   " + selecttedUser.name}}</mat-label>
               <!-- Tin nhan -->
              <cdk-virtual-scroll-viewport itemSize="50" class="viewport-messages">
                <mat-selection-list #listMessages [multiple]="false" *cdkVirtualFor="let list of listMessages"  >
                  <div *ngIf="list.id ==1" class="messages-left">
                    <mat-card-header >
                      <div mat-card-avatar class="example-header-image"><mat-icon mat-list-icon>account_circle</mat-icon></div>
                      <mat-card-title>{{list.name}}</mat-card-title>
                      <mat-card-subtitle>{{list.update}}</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card class="messages-card-left" >                    
                      <mat-card-content >                       
                        <p>
                          {{list.messages}}
                        </p>
                      </mat-card-content>
                    </mat-card>
                  </div>
                  <div *ngIf="list.id ==2" class="messages-right">
                    <br>
                      <div mat-card-avatar class="example-header-image" style="float: right;"><mat-icon mat-list-icon>account_circle</mat-icon></div>
                      <mat-card-header style="float: right;">
                        <mat-card-subtitle>{{list.update}}</mat-card-subtitle>
                      </mat-card-header>
                      <br><br>
                    <mat-card-content  class="messages-card-right" >    
                    <mat-card class="messages-right-background" >                                                            
                        <p>
                          {{list.messages}}
                        </p>                    
                    </mat-card>
                  </mat-card-content>
                  </div>
                  
                </mat-selection-list>
              </cdk-virtual-scroll-viewport>
          </mat-card-title>        
          <mat-card-footer>
            <button mat-stroked-button color="primary" (click)="fileInput.click()" class="button-choosefile">
             <mat-icon> attach_file</mat-icon>Chọn File 
              <input #fileInput type="file"  style="display:none;" />
            </button>
            <mat-form-field class="input-chat">
              <input type="text" matInput placeholder="Nhập tin nhắn với bạn bè " >
              <button mat-stroked-button color="primary" class="button-sendmessages" type="submit">Gửi</button>
            </mat-form-field>
          </mat-card-footer>
        <!--  -->

      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>


